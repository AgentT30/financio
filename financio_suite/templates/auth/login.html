{% extends 'auth/base_auth.html' %}
{% load static %}

{% block title %}Login - Financio{% endblock %}

{% block auth_content %}
<!-- Logo -->
<div class="flex justify-center px-4 py-8">
    <img src="{% static 'logo_dark.png' %}" alt="Financio" class="h-24 hidden dark:block">
    <img src="{% static 'logo_light.png' %}" alt="Financio" class="h-24 block dark:hidden">
</div>

<h2 class="text-gray-900 dark:text-white tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">
    Welcome back
</h2>

<!-- Error Messages -->
{% if messages %}
<div class="px-4 py-3">
    {% for message in messages %}
    <div class="rounded-lg p-4 {% if message.tags == 'error' %}bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200{% else %}bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200{% endif %}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<!-- Login Form -->
<form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    
    <!-- Email/Username Field -->
    <div class="px-4 py-3">
        <label class="flex flex-col w-full">
            <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Email or Username</p>
            <input
                type="text"
                name="username"
                placeholder="Enter your email or username"
                required
                class="form-input w-full rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-none bg-white dark:bg-dark-surface h-14 placeholder:text-gray-400 dark:placeholder:text-[#9aa5bc] px-4 text-base font-normal"
                value="{{ username }}"
            />
            {% if form.username.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.username.errors.0 }}</p>
            {% endif %}
        </label>
    </div>
    
    <!-- Password Field -->
    <div class="px-4 py-3">
        <label class="flex flex-col w-full">
            <p class="text-gray-900 dark:text-white text-base font-medium leading-normal pb-2">Password</p>
            <input
                type="password"
                name="password"
                placeholder="Enter your password"
                required
                class="form-input w-full rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary border border-gray-300 dark:border-none bg-white dark:bg-dark-surface h-14 placeholder:text-gray-400 dark:placeholder:text-[#9aa5bc] px-4 text-base font-normal"
            />
            {% if form.password.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.password.errors.0 }}</p>
            {% endif %}
        </label>
    </div>
    
    <!-- Remember Me Checkbox -->
    <div class="flex items-center gap-4 bg-transparent px-4 min-h-14 justify-between">
        <label class="flex items-center cursor-pointer">
            <input
                type="checkbox"
                name="remember_me"
                class="h-5 w-5 rounded border-gray-300 dark:border-dark-border border-2 bg-transparent text-primary checked:bg-primary checked:border-primary focus:ring-0 focus:ring-offset-0 focus:border-gray-300 dark:focus:border-dark-border focus:outline-none"
            />
            <span class="ml-2 text-gray-900 dark:text-white text-base font-normal leading-normal">Remember me</span>
        </label>
        <a href="{% url 'password_reset' %}" class="text-primary hover:text-primary-hover text-sm font-medium">
            Forgot password?
        </a>
    </div>
    
    <!-- Login Button -->
    <div class="px-4 py-3">
        <button
            type="submit"
            class="flex w-full cursor-pointer items-center justify-center rounded-lg h-12 bg-primary hover:bg-primary-hover text-white text-base font-bold transition-colors shadow-lg shadow-primary/20"
        >
            Log in
        </button>
    </div>
    
    <!-- Create Account Button -->
    <div class="px-4 py-3">
        <a
            href="{% url 'signup' %}"
            class="flex w-full cursor-pointer items-center justify-center rounded-lg h-12 bg-gray-100 dark:bg-dark-surface hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white text-base font-bold transition-colors"
        >
            Create account
        </a>
    </div>
</form>
{% endblock %}
